<!doctype html>
<html lang="lt">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Picly — Paprastas nuotraukų dalinimasis verslui</title>
  <meta name="description" content="Picly padeda verslams akimirksniu dalintis nuotraukomis su klientais ir komanda. Paprasta. Greita. Saugu.">
  <link rel="icon" href="/assets/favicon.png">
  <meta property="og:title" content="Picly — Paprastas nuotraukų dalinimasis verslui">
  <meta property="og:description" content="Paprastas būdas dalintis nuotraukomis su klientais ir komanda.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="/assets/og-cover.png">
  <meta name="theme-color" content="#0A0A0B">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/styles.css">
</head>

<body>
  <header class="header">
    <div class="container nav">
      <a class="logo" href="#hero">
        <img src="/assets/logo.svg" alt="Picly logotipas">
        <span>Picly</span>
      </a>
      <button class="nav-toggle" aria-label="Open menu" id="navToggle">☰</button>
      <nav class="nav-links" id="navLinks">
        <a href="#how">Kaip veikia</a>
        <a href="#features">Funkcijos</a>
        <a href="#pricing">Kainodara</a>
        <a href="#faq">DUK</a>
        <a href="#cta" class="btn btn--small">Pabandyti nemokamai</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero" id="hero">
      <div class="container hero__grid">
        <div class="hero__content">
          <h1>Paprastas būdas dalintis nuotraukomis su klientais ir komanda.</h1>
          <p class="lead">
            Picly leidžia akimirksniu <strong>įkelti</strong>, <strong>generuoti nuorodą</strong> ir <strong>pasidalinti</strong> nuotraukomis — be chaoso, ZIP'ų ar ilgų el. laiškų.
          </p>
          <form class="cta-form" id="earlyAccessForm">
            <input type="email" name="email" placeholder="Tavo el. paštas" required>
            <button type="submit" class="btn">Gauti ankstyvą prieigą</button>
            <small class="muted" id="earlyAccessMsg"></small>
            <small class="muted">Nemokama 14 dienų. Kortelės nereikia.</small>
          </form>
        </div>
        <div class="hero__media card">
          <img src="/assets/hero-mock.png" alt="Picly aplikacijos peržiūra">
        </div>
      </div>
    </section>

    <section class="trust">
      <div class="container trust__row">
        <p class="muted">Pasitiki komandos, dirbančios su vizualais kasdien</p>
        <div class="trust__logos">
          <img src="/assets/logo-placeholder.svg" alt="Logo 1">
          <img src="/assets/logo-placeholder.svg" alt="Logo 2">
          <img src="/assets/logo-placeholder.svg" alt="Logo 3">
          <img src="/assets/logo-placeholder.svg" alt="Logo 4">
        </div>
      </div>
    </section>

    <section class="how" id="how">
      <div class="container">
        <h2>Kaip veikia</h2>
        <div class="steps">
          <div class="step card">
            <div class="step__num">1</div>
            <h3>Įkelk</h3>
            <p>Tempk ir mesk nuotraukas arba pasirink iš įrenginio. Mes automatiškai optimizuojame dydį ir raišką.</p>
          </div>
          <div class="step card">
            <div class="step__num">2</div>
            <h3>Gauk nuorodą</h3>
            <p>Generuojame švarias, trumpas nuorodas su peržiūra: patogu klientams, saugu tavo komandai.</p>
          </div>
          <div class="step card">
            <div class="step__num">3</div>
            <h3>Pasidalink</h3>
            <p>Siųsk kaip nuorodą, QR kodą ar įterpk į svetainę. Galiojimo laikas ir apsauga slaptažodžiu — vienu spust.</p>
          </div>
        </div>
      </div>
    </section>

    <section class="features" id="features">
      <div class="container">
        <h2>Funkcijos verslui</h2>
        <div class="grid-3">
          <div class="feature card">
            <h3>Dalijimosi taisyklės</h3>
            <p>Nustatyk, kas gali matyti, atsisiųsti ar komentuoti. Laikinės nuorodos ir slaptažodis.</p>
          </div>
          <div class="feature card">
            <h3>Brendingas</h3>
            <p>Tavo logotipas, spalvos ir domenas (pvz., <strong>photos.tavoimone.lt</strong>).</p>
          </div>
          <div class="feature card">
            <h3>Greitis ir kokybė</h3>
            <p>Automatinis suspaudimas, WebP/AVIF, retina peržiūros ir greitas CDN.</p>
          </div>
          <div class="feature card">
            <h3>Integracijos</h3>
            <p>Slack, e. paštas, nuorodos į Shopify / Notion / Trello / Google Drive.</p>
          </div>
          <div class="feature card">
            <h3>QR ir įterpimas</h3>
            <p>Generuok QR kodus vietoje. Įterpk galerijas į svetaines per iframe ar JS.</p>
          </div>
          <div class="feature card">
            <h3>Privatumas</h3>
            <p>EU serveriai, GDPR atitiktis, prieigos žurnalai ir šifravimas.</p>
          </div>
        </div>
      </div>
    </section>

    <section class="demo" id="demo">
      <div class="container">
        <h2>Išbandyk: įkelk iki 5 nuotraukų</h2>

        <!-- Dropzona + failų pasirinkimas -->
        <label class="uploader" id="dropzone">
          <input id="fileInputDemo" type="file" accept="image/*" multiple hidden>
          <div class="uploader__center">
            <!-- “+” ikona per CSS ::before, bet čia paliekam vietą turiniui -->
            <div class="uploader__title">Įkelk nuotraukas</div>
            <div class="uploader__hint">Tempk ir mesk arba spausk — atsidarys failų langas</div>
            <div class="uploader__types muted">JPG, PNG, WEBP • iki 10MB / failas</div>
          </div>
        </label>

        <!-- Peržiūros grid -->
        <div class="preview-grid" id="previewGrid"></div>

        <!-- Veiksmai -->
        <div style="margin-top:12px; display:flex; gap:8px; flex-wrap:wrap;">
          <button class="btn" id="btnChoose">Pasirinkti failus</button>
          <button class="btn btn--ghost" id="btnUpload">Įkelti failus</button>
          <small class="muted form-msg" id="uploadMsg"></small>
        </div>

        <!-- Rezultatas: nuoroda ir failų sąrašas -->
        <div class="share" id="shareBox" style="display:none;">
          <p><strong>Nuoroda sukurta!</strong></p>
          <div class="share-row">
            <input id="shareUrl" type="text" readonly>
            <button class="btn btn--small" id="btnCopy">Kopijuoti</button>
          </div>
          <ul id="shareFiles" style="margin-top:10px;"></ul>
        </div>
      </div>
    </section>

    <section class="cta-alt" id="cta">
      <div class="container cta-alt__wrap card">
        <div>
          <h2>Pradėk per 2 minutes</h2>
          <p>Nemokamas planas mažoms komandoms. Išaugus — perjunk planą be vargo.</p>
        </div>
        <form class="cta-form cta-form--inline" id="betaForm">
          <input type="email" name="email" placeholder="Darbo el. paštas" required>
          <button type="submit" class="btn">Startuoti dabar</button>
          <small class="muted" id="betaMsg"></small>
        </form>
      </div>
    </section>

    <section class="pricing" id="pricing">
      <div class="container">
        <h2>Kainodara</h2>
        <div class="pricing__grid">
          <div class="price card">
            <h3>Starter</h3>
            <p class="price__amount">€0</p>
            <ul>
              <li>100 nuotraukų / mėn.</li>
              <li>Laikinos nuorodos</li>
              <li>Bazinė analizė</li>
            </ul>
            <a href="#cta" class="btn btn--ghost">Pradėti</a>
          </div>
          <div class="price card price--focus">
            <h3>Pro</h3>
            <p class="price__amount">€9<span>/mėn.</span></p>
            <ul>
              <li>Neribotos nuotraukos</li>
              <li>Brendingas ir domenas</li>
              <li>Komanda ir teisės</li>
            </ul>
            <a href="#cta" class="btn">Rinktis Pro</a>
          </div>
          <div class="price card">
            <h3>Business</h3>
            <p class="price__amount">€29<span>/mėn.</span></p>
            <ul>
              <li>SSO, auditas</li>
              <li>Integracijos</li>
              <li>Prioritetinis palaikymas</li>
            </ul>
            <a href="#cta" class="btn btn--ghost">Išbandyti</a>
          </div>
        </div>
      </div>
    </section>

    <section class="faq" id="faq">
      <div class="container">
        <h2>Dažniausiai užduodami klausimai</h2>
        <details>
          <summary>Ar galiu dalintis failų aplankais?</summary>
          <p>Taip. Galima sukurti bendrinamą albumą su keliomis teisėmis: peržiūra, atsisiuntimas, komentarai.</p>
        </details>
        <details>
          <summary>Kur laikomi duomenys?</summary>
          <p>ES (GDPR). Galima rinktis regioną pagal poreikį.</p>
        </details>
        <details>
          <summary>Ar yra API?</summary>
          <p>Taip. REST ir JavaScript SDK. Pavyzdžiai pateikti dokumentacijoje.</p>
        </details>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container footer__grid">
      <div>
        <a class="logo" href="#hero">
          <img src="/assets/logo.svg" alt="Picly logotipas">
          <span>Picly</span>
        </a>
        <p class="muted">© <span id="year"></span> Picly. Visos teisės saugomos.</p>
      </div>
      <nav class="footer__nav">
        <a href="#features">Funkcijos</a>
        <a href="#pricing">Kainodara</a>
        <a href="#faq">DUK</a>
        <a href="mailto:hello@picly.eu">Kontaktai</a>
      </nav>
    </div>
  </footer>

  <script src="/script.js"></script>
  <form id="subscribe-form" style="margin:16px 0">
  <input id="email" name="email" type="email" placeholder="you@example.com" required autocomplete="email">
  <button id="subscribe-btn" type="submit">Get early access</button>
</form>


<p id="msg" style="margin-top:8px; font-weight:500; color:white;"></p>

<script>
document.getElementById('subscribe-form').addEventListener('submit', async (e) => {
  e.preventDefault();

  const email = document.getElementById('email').value.trim();
  const msgEl = document.getElementById('msg');
  msgEl.textContent = 'Siunčiama…';

  try {
    const res = await fetch('/api/subscribe', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email })
    });

    const data = await res.json().catch(() => ({}));

    if (res.ok) {
      msgEl.textContent = data.message || 'Išsiųsta. Patikrink paštą!';
    } else {
      msgEl.textContent = data.error ? `Klaida: ${data.error}` : `Klaida (${res.status})`;
      console.log('Server details:', data);
    }
  } catch (err) {
    msgEl.textContent = 'Tinklo klaida — bandyk dar kartą.';
    console.error(err);
  }
});
</script>
<script>
(() => {
  const fileInput = document.getElementById('fileInputDemo');
  const dropzone  = document.getElementById('dropzone');
  const preview   = document.getElementById('previewGrid');
  const msg       = document.getElementById('uploadMsg');
  const btnChoose = document.getElementById('btnChoose');
  const btnUpload = document.getElementById('btnUpload');
  const shareBox  = document.getElementById('shareBox');
  const shareUrl  = document.getElementById('shareUrl');
  const btnCopy   = document.getElementById('btnCopy');
  const shareFiles= document.getElementById('shareFiles');

  const MAX_FILES = 5;
  const ALLOWED = ['image/jpeg','image/png','image/webp'];

  let picked = [];

  function setMsg(t){ msg.textContent = t || ''; }
  function resetUI(){
    preview.innerHTML = '';
    shareBox.style.display = 'none';
    shareUrl.value = '';
    shareFiles.innerHTML = '';
    setMsg('');
    picked = [];
  }

  function renderPreviews(files){
    preview.innerHTML = '';
    files.forEach(f => {
      const url = URL.createObjectURL(f);
      const card = document.createElement('div');
      card.className = 'thumb';
      const img = document.createElement('img');
      img.src = url; img.onload = () => URL.revokeObjectURL(url);
      const cap = document.createElement('small');
      cap.className = 'muted';
      cap.textContent = `${f.name} • ${Math.round(f.size/1024)} KB`;
      card.appendChild(img); card.appendChild(cap);
      preview.appendChild(card);
    });
  }

  function acceptFiles(list){
    const arr = Array.from(list);
    const valid = [];
    for (const f of arr) {
      if (!ALLOWED.includes(f.type)) { setMsg(`Neleidžiamas tipas: ${f.type}`); return; }
      valid.push(f);
      if (valid.length >= MAX_FILES) break;
    }
    picked = valid;
    if (picked.length === 0){ setMsg('Nepasirinkta jokių failų.'); return; }
    setMsg('');
    renderPreviews(picked);
  }

  // UI events
  btnChoose.addEventListener('click', () => fileInput.click());
  fileInput.addEventListener('change', e => acceptFiles(e.target.files));

  // Drag & drop
  ;['dragenter','dragover'].forEach(ev => dropzone.addEventListener(ev, e => {
    e.preventDefault(); e.stopPropagation();
    dropzone.classList.add('is-dragover');
  }));
  ;['dragleave','drop'].forEach(ev => dropzone.addEventListener(ev, e => {
    e.preventDefault(); e.stopPropagation();
    dropzone.classList.remove('is-dragover');
  }));
  dropzone.addEventListener('click', () => fileInput.click());
  dropzone.addEventListener('drop', e => acceptFiles(e.dataTransfer.files));

  // Upload -> /api/upload
  btnUpload.addEventListener('click', async () => {
    if (!picked.length){ setMsg('Pirma pasirink failus.'); return; }
    if (picked.length > MAX_FILES){ setMsg(`Max ${MAX_FILES} failai.`); return; }

    setMsg('Įkeliama…'); btnUpload.disabled = true;

    const fd = new FormData();
    picked.forEach(f => fd.append('files', f, f.name));

    try{
      const res = await fetch('/api/upload', { method:'POST', body: fd });
      const data = await res.json();
      if (!res.ok || !data.ok) {
        setMsg(data.error || `Klaida (${res.status})`);
        btnUpload.disabled = false;
        return;
      }

      setMsg('Įkelta. Generuojama nuoroda…');

      // Paimkim share meta ir parodykim tiesiogines download nuorodas
      const metaRes = await fetch(data.shareUrl);
      const meta = await metaRes.json();
      if (meta.ok) {
        shareUrl.value = data.shareUrl;
        shareFiles.innerHTML = '';
        meta.share.files.forEach(f => {
          const li = document.createElement('li');
          const a  = document.createElement('a');
          a.href = f.downloadUrl; a.target = '_blank'; a.rel='noopener';
          a.textContent = f.filename;
          li.appendChild(a);
          shareFiles.appendChild(li);
        });
        shareBox.style.display = 'block';
        setMsg('Viskas! Gali dalintis nuoroda žemiau.');
      } else {
        setMsg('Nepavyko gauti nuorodos meta.');
      }
    } catch(err){
      console.error(err);
      setMsg('Tinklo klaida.');
    } finally {
      btnUpload.disabled = false;
    }
  });

  // Copy
  btnCopy.addEventListener('click', async () => {
    try{
      await navigator.clipboard.writeText(shareUrl.value);
      setMsg('Nukopijuota!');
    } catch {
      setMsg('Nepavyko nukopijuoti.');
    }
  });

  // Jei reikia reset’o kai palieka sekciją:
  // window.addEventListener('hashchange', resetUI);
})();
</script>
</body>

</html>
